<div class="profile" fxLayout="column" fxLayoutAlign="center stretch" fxLayoutGap="40px">
  <mat-card class="profile-top mat-elevation-z8">
    <mat-drawer-container class="example-container" hasBackdrop="true" fxFlex>
      <div class="top-info" fxLayout="row" fxFlex>
        <div class="patient-photo" fxLayoutAlign="center center" fxFlex>
          <form enctype="multipart/form-data">
            <input style="display: none" type="file" (change)="getAvatar($event.target.files)" name="Image" #Image>
            <img [src]="imageToShow" alt="Avatar" (click)="Image.click()" title="Change your profile photo" (error)="img.src = defaultImage"
              #img>
          </form>
        </div>
        <div class="patient-general-info" fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="20px" fxFlex>
          <div>
            <div>First name: {{patient?.firstName}}</div>
            <div>Second name: {{patient?.secondName}}</div>
            <div>Last name: {{patient?.thirdName}}</div>
          </div>
          <div>
            <div>Birth date: {{patient?.birthDate | date: 'mediumDate'}}</div>
            <div>Phone number: {{patient?.phoneNumber}}</div>
          </div>
        </div>
        <div class="example-sidenav-content" fxLayoutAlign="center start">
          <button type="button" mat-button (click)="drawer.toggle()">
            Edit profile
          </button>
        </div>
      </div>
      <mat-drawer #drawer mode="over" class="example-sidenav" autozise>
        <app-update-patient></app-update-patient>
        <!-- <p>Auto-resizing sidenav</p>
          <p *ngIf="showFiller">Lorem, ipsum dolor sit amet consectetur.</p>
          <button (click)="showFiller = !showFiller" mat-raised-button>
            Toggle extra text
          </button> -->
      </mat-drawer>
    </mat-drawer-container>
  </mat-card>

  <mat-card class="pation-additional-info mat-elevation-z8">
    Additional info about me:
    <p>{{tempText}}</p>
  </mat-card>

  <mat-card class="profile-bottom mat-elevation-z8" fxLayout="column" fxFlex="50%" fxLayoutGap="0.5%">
    <div class="without_paginator" fxLayout="row" fxLayoutGap="1%">
      <div class="patient-history-search-filter" fxFlex="30%">
        <app-doctor-list-search-item [specializations]="doctorService.specializations"></app-doctor-list-search-item>
      </div>
      <div class="patient-history" fxFlex>
        <mat-list>
          <div class="history-items" *ngFor="let IllnessHistory of tempHistory" fxLayoutGap="0.5%" fxLayout="row">
            <mat-expansion-panel fxFlex>
              <mat-expansion-panel-header>
                <div fxLayout="row">
                  <mat-list-item>
                    <div>{{IllnessHistory.conclusionTime}}</div>
                  </mat-list-item>
                  <!-- <mat-list-item>
                      <div>{{IllnessHistory.doctorName}}</div>
                    </mat-list-item> -->
                  <mat-list-item>
                    <div>{{IllnessHistory.diagnose}}</div>
                  </mat-list-item>
                </div>
              </mat-expansion-panel-header>
              <div>
                Complaints: {{IllnessHistory.complaints}}
              </div>
              <div>
                Treatment: {{IllnessHistory.treatmentPlan}}
              </div>
              <div>
                Disease Anamnesis: {{IllnessHistory.diseaseAnamnesis}}
              </div>
              <div>
                Life Anamnesis: {{IllnessHistory.lifeAnamnesis}}
              </div>
            </mat-expansion-panel>
          </div>
        </mat-list>
      </div>
    </div>
    <mat-paginator></mat-paginator>
  </mat-card>
</div>