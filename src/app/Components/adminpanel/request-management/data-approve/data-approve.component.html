<div id="father-div" fxLayout="column" fxLayoutAlign="space-around center">

  <!-- <div id="component-box">

    <div id="navigate-div">
      <mat-form-field class="example-full-width margin-ten">
        <input autocomplete="off" matInput [(ngModel)]="search" (change)="paginator.pageIndex=0; paginator.page.emit()"
          placeholder="Text Search">
      </mat-form-field>
      <br fxHide.gt-md>
      <mat-form-field class="example-full-width margin-ten">
        <mat-select [(value)]="selectedType" placeholder="Type" [(value)]="selected">
          <mat-option>None</mat-option>
          <mat-option *ngFor="let item of typeslist" [value]="item.id">
            {{item.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <br fxHide.gt-md>
      <button class="margin-ten" (click)="onSearch()" mat-raised-button color="primary">Search</button>
      <button (click)="onClear()" mat-raised-button color="warn">Clear</button>
    </div>

  </div> -->

  <!-- <mat-progress-bar *ngIf="isLoadingResult" mode="buffer"></mat-progress-bar> -->

  <table mat-table [dataSource]="patientToDoctorModels" multiTemplateDataRows class="mat-elevation-z8">
    <div class="loading-shade" *ngIf="isLoadingResults">
      <mat-spinner *ngIf="isLoadingResults"></mat-spinner>
    </div>
    <ng-container matColumnDef="email">
      <th mat-header-cell *matHeaderCellDef>Users email</th>
      <td mat-cell *matCellDef="let row">
        {{row.email}}
      </td>
    </ng-container>
    <ng-container matColumnDef="requestTime">
      <th mat-header-cell *matHeaderCellDef>date</th>
      <td mat-cell *matCellDef="let row">
        {{row.requestTime | date:'dd.MM.y HH.mm'}}
      </td>
    </ng-container>
    <ng-container matColumnDef="type">
      <th mat-header-cell *matHeaderCellDef>Type</th>
      <td mat-cell *matCellDef="let row">
        <!-- {{row.feedbackTypeName}} -->
        Change Role
      </td>
    </ng-container>
    <!-- fxLayoutAlign="space-around center" -->
    <ng-container matColumnDef="expandedDetail">
      <td mat-cell *matCellDef="let element" [attr.colspan]="columnsToDisplay.length">
        <div fxLayout="row" class="example-element-detail" fxLayoutAlign="start space-between" [@detailExpand]="element == expandedElement ? 'expanded' : 'collapsed'">
          <!-- <div class="minwidth" fxFlex="10" fxLayout="column" fxLayoutAlign="space-around center">
            <img id="doc-pic" [src]="hostUrl + element.usersAvatarURL" />
            <!-- <a [routerLink]="element.userId" mat-button>Profile</a> --
          </div> -->
          <div class="minwidth padding-left" fxFlex="30" fxLayout="column">
            <!-- fxLayoutAlign="start center" -->
            <div class="example-element-detail">
              <!-- fxFlexAlign="start" -->
              id: {{element.userId}}
              <br> Name: {{element.firstName}} {{element.secondName}} {{element.thirdName}}
            </div>
            <div fxLayout="row" fxFlexAlign="start">
              <div class="example-element-detail">
                <button class="margin-ten" (click)="openDialog(element.userId, true)" mat-raised-button color="primary">Approve</button>
                <button (click)="openDialog(element.userId, false)" mat-raised-button color="warn">Reject</button>
              </div>
            </div>
            <!-- <div class="example-element-description"> {{element.usersBirthDate | date}} </div> -->
            <!-- <div>{{element.phoneNumber}}</div> -->
            <div>
              <!-- <a *ngIf="element.isViewed" matTooltipPosition="above" matTooltip="mark as done" mat-button> <i class="material-icons">done</i></a>
              <a *ngIf="element.isViewed" matTooltipPosition="above" matTooltip="reply" mat-button (click)="openDialog(element.id)">
                <i class="material-icons">send</i></a> -->
              <!-- <a *ngIf="!element.isViewed" mat-button>Done <i class="material-icons">done_all</i></a> -->
            </div>
          </div>
          <!-- <div fxFlex="25" fxLayoutAlign="space-around center">
              <div class="example-element-detail">
                {{element.userId}}
              </div>
          </div> -->
          <!--  fxFlex = 70 if buttons right = 65-->
          <div fxFlex="70" fxLayout="column" class="example-element-detail" fxLayoutAlign="space-around start">
            <!-- <div fxLayoutAlign="space-around start"> -->
              Specialization: {{element.specialization}}
              <br> Working Address: {{element.address}}<br>
              <br> License photo:
              <div>
                  <img class="doc-pic" [src]="this.hostUrl + element.license" />
                  <!-- <img class="doc-pic" [src]="this.hostUrl + element.license" /> -->
                  <!-- <img class="doc-pic" [src]="this.hostUrl + element.license" /> -->
              </div>
              <br> Diplomas photos:
              <!-- <app-gallery style="width: 100%"
               [images]="element.diplomas"></app-gallery> -->
              
              <div>
                  <!-- <img *ngFor="let diploma of element.diplomas" class="doc-pic" [ngStyle]="{background: 'url(' + this.hostUrl + '/' + diploma + ')'" /> -->
                  <!-- <img *ngFor="let diploma of element.diplomas" class="doc-pic" [style.background-image]="'url(' + this.hostUrl + '/' + diploma + ')'" /> -->
                  <img *ngFor="let diploma of element.diplomas" class="doc-pic" [src]="this.hostUrl + diploma" />
                  <!-- <img class="doc-pic" [src]="this.hostUrl + element.license" />
                  <img class="doc-pic" [src]="this.hostUrl + element.license" />
                  <img class="doc-pic" [src]="this.hostUrl + element.license" />
                  <img class="doc-pic" [src]="this.hostUrl + element.license" /> -->
              </div>

            <!-- </div> -->
            
            <!-- <div class="minwidth padding-t-b" fxLayoutAlign="space-around center">
              <img class="doc-pic" [src]="this.hostUrl + element.license" />
            </div> -->
            <!-- <div class="minwidth padding-t-b" fxLayoutAlign="space-around center">
              <img class="doc-pic" [src]="this.hostUrl + element.license" />
            </div> -->
          </div>
          <!-- <div fxLayout="row"  fxFlexAlign="start">
              <div class="example-element-detail">
                  <button class="margin-ten" (click)="openDialog(element.userId, true)" mat-raised-button color="primary">Approve</button>
                  <button (click)="openDialog(element.userId, false)" mat-raised-button color="warn">Reject</button>
              </div>
          </div> -->
        </div>

      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
    <tr mat-row *matRowDef="let element; columns: columnsToDisplay;" class="example-element-row" [class.example-expanded-row]="expandedElement === element"
      (click)="expandedElement = expandedElement === element ? null : element">
    </tr>
    <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row"></tr>
  </table>

</div>

<div>
  <mat-paginator showFirstLastButtons [pageSize]="5" [pageSizeOptions]="[5, 10, 15]" [length]="usersAmount">
  </mat-paginator>
</div>